.modal.hide.fade{ id: "reviewModal#{wine.id}", "aria-hidden" => "false", "aria-labelledby" => "#{wine.name}", role: "dialog", tabindex: "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", type: "button"} Ã—
    #myModalLabel.centered
      %h3= wine.winery.name.titleize
      %h2= wine.name.titleize

  .modal-body
    
    .tabbable
      %ul.nav.nav-tabs
        %li.active
          %a{"data-toggle" => "tab", :href => "#tab1"} Bloochinator
        %li
          %a{"data-toggle" => "tab", :href => "#tab2"} Pro notes
      .tab-content
        #tab1.tab-pane.active
          %p bloochinator content.
        #tab2.tab-pane
          %p pro-notes content.


    / .tabbable
    /   %ul.nav.nav-tabs
    /     %li.active

    /       / %a{"data-toggle" => "tab", :href => "#tab1"} Tab 1
    /     %li
    /       %a{"data-toggle" => "tab", :href => "#tab2"} Tab 2
    /   .tab-content
    /     #tab1.tab-pane.active
    /       %p Tab 1 content.
    /     #tab2.tab-pane
    /       %p Tab 2 content.

  / .form-horizontal
  /   = simple_form_for([wine, @review], {html_options: {id: "reviewForm" }})  do |f|
  /     = f.input :content, as: :text, label: "notes about this wine", input_html: { rows: 7 }
  /     = f.input :wine_id, as: :hidden, input_html: { value: wine.id }
  /     - if user_signed_in?
  /       Reviewing as #{current_user.name}
  /     - else
  /       = f.simple_fields_for :user do |fu|
  /         = fu.input :email, validate: true
  .modal-footer
    %button.btn{"aria-hidden" => "true", "data-dismiss" => "modal"} Close
    / = f.button :submit, 'Publish this blooch', class: 'btn-primary'


:javascript
  $(function () {
    $('#myTab a:last').tab('show');
  })

  / $(document).ready(function(){
  /   $("#reviewForm").validate();
  / });

  / $("#reviewForm").validate( {
  /   rules: { }
  / });
  / $('#reviewModal#{wine.id}').on('shown', function () {
  / $(ClientSideValidations.selectors.forms).validate();
  / });
