.modal.hide.fade{ id: "reviewModal#{wine.id}", "aria-hidden" => "false", "aria-labelledby" => "#{wine.name}", role: "dialog", tabindex: "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", type: "button"} Ã—
    #myModalLabel.centered
      %h3= wine.winery.name.titleize
      %h2= wine.name.titleize

  .modal-body.form-horizontal
    = simple_form_for([wine, @review])  do |f|
      = f.input :content, as: :text, validate: { presence: true }, label: "notes about this wine", input_html: { rows: 7 }
      = f.input :wine_id, as: :hidden, input_html: { value: wine.id }
      - if user_signed_in?
        Reviewing as #{current_user.name}
      - else
        = f.simple_fields_for :user do |fu|
          = fu.input :email, validate: true
      .modal-footer
        %button.btn{"aria-hidden" => "true", "data-dismiss" => "modal"} Close
        = f.button :submit, 'Publish this blooch', class: 'btn-primary'


:javascript
  $('#reviewModal#{wine.id}').on('shown', function () {
  $(ClientSideValidations.selectors.forms).validate();
  });
