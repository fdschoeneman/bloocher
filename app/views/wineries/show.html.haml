.row.span12
  %p#notice= notice

  #myCanvasContainer
    %canvas#myCanvas{:height => "300", :width => "600"}
      %p Anything in here will be replaced on browsers that support the canvas element
  #tags
    %ul
      %li
        %a{:href => "http://www.google.com", :target => "_blank"} Google
      %li
        %a{"data-weight" => "22", :href => "http://www.merciboq.com", :style => "font-size: 4.58ex"} MerciboQ!
      %li= link_to @winery.name
      - @winery.wines.each do |wine|
        = link_to wine.name
      - @winery.winery_tags.each do |tag|
        = link_to tag[0], html_options: { "data-weight" => tag[1] }
      %li
      %li
      %li
        %a{:href => "/vinegar"} Vinegar
%p
  %h1= @winery.name
  .badge 
    = @winery.winery_rating.to_i
%p
  %b Producer:
  = @winery.producer.name
%p
  %b Public email:
  = @winery.producer.public_email
%p
  %b Phone:
  = @winery.producer.phone
%p
  %b Address 1:
  = @winery.producer.address_1
%p
  %b Address 2:
  = @winery.producer.address_2
%p
  %b City:
  = @winery.producer.city
%p
  %b State:
  = @winery.producer.state
%p
  %b Zip:
  = @winery.producer.zip
%p
  %b Web address:
  = link_to @winery.producer.web_address, url_for(@winery.producer.web_address) 
%p
  %b Subdomain:
  = @winery.producer.subdomain

= link_to 'Edit', edit_winery_path(@winery)
\|
= link_to 'Back', wineries_path

%p
%h1 Wines

- @wines.each do |wine|
  %p
    = link_to "#{wine.vintage} #{wine.name}", wine_path(wine.id)

%p
%h1 Reviews

- @reviews.each do |review|
  %p 
    .badge= review.rating
    = review.content
    = link_to review.reviewer.name, user_path(review.reviewer.name)
    

:javascript
  $(document).ready(function() {
    if(!$('#myCanvas').tagcanvas({
      textColour: 'grey',
      textFont: 'Helvetica',
      outlineColour: 'grey',
      reverse: true,
      depth: 0.8, 
      maxSpeed: 0.05, 
      weight: true,
      weightMode: "size",
    },'tags')) {
      // something went wrong, hide the canvas container
      $('#myCanvasContainer').hide();
    }
  });